"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/checkout/page",{

/***/ "(app-pages-browser)/./app/checkout/page.tsx":
/*!*******************************!*\
  !*** ./app/checkout/page.tsx ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CheckoutPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nfunction CheckoutPage() {\n    _s();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useSearchParams)();\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [inviterName, setInviterName] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [signerFirstName, setSignerFirstName] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [signerLastName, setSignerLastName] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [signerEmail, setSignerEmail] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [slaStatus, setSlaStatus] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [checkingSLA, setCheckingSLA] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [slaError, setSlaError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [tierError, setTierError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const ref = searchParams.get('ref'); // referrer Id\n    const userId = searchParams.get('userId'); // userId from URL\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useRouter)();\n    console.log('--Checkout/route.tsx executed');\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"CheckoutPage.useEffect\": ()=>{\n            const fetchInviter = {\n                \"CheckoutPage.useEffect.fetchInviter\": async ()=>{\n                    if (!ref) return;\n                    try {\n                        const res = await fetch(\"/api/user-by-stripe-id?stripeId=\".concat(ref));\n                        const data = await res.json();\n                        if (res.ok && (data === null || data === void 0 ? void 0 : data.name)) {\n                            setInviterName(data.name);\n                        } else {\n                            setInviterName(null);\n                        }\n                    } catch (error) {\n                        console.error('Failed to fetch inviter info:', error);\n                        setInviterName(null);\n                    }\n                }\n            }[\"CheckoutPage.useEffect.fetchInviter\"];\n            fetchInviter();\n        }\n    }[\"CheckoutPage.useEffect\"], [\n        ref\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"CheckoutPage.useEffect\": ()=>{\n            const checkSLAStatus = {\n                \"CheckoutPage.useEffect.checkSLAStatus\": async ()=>{\n                    if (!userId) {\n                        setSlaStatus(null);\n                        setSlaError(null);\n                        setTierError(null);\n                        return;\n                    }\n                    setCheckingSLA(true);\n                    setSlaError(null);\n                    setTierError(null);\n                    try {\n                        const res = await fetch(\"/api/check-sla-status?userId=\".concat(encodeURIComponent(userId)));\n                        const data = await res.json();\n                        if (res.ok) {\n                            setSlaStatus({\n                                hasActiveSLA: data.hasActiveSLA,\n                                tier: data.slaTier,\n                                location: data.location,\n                                subscriptionId: data.subscriptionId\n                            });\n                            // Check for tier conflict if user is trying to purchase SLA\n                            const urlParams = new URLSearchParams(window.location.search);\n                            const selectedTier = urlParams.get('slaTier');\n                            const productType = urlParams.get('productType');\n                            if (data.hasActiveSLA && selectedTier && (productType === 'SLA' || productType === 'Both')) {\n                                const currentTierLevel = getTierLevel(data.slaTier);\n                                const selectedTierLevel = getTierLevel(selectedTier);\n                                if (selectedTierLevel <= currentTierLevel) {\n                                    setTierError('You already have an active subscription with same or higher access level');\n                                }\n                            }\n                        } else {\n                            setSlaError(data.error || 'Failed to check SLA status');\n                            setSlaStatus(null);\n                        }\n                    } catch (error) {\n                        console.error('Error checking SLA status:', error);\n                        setSlaError('Failed to check SLA status');\n                        setSlaStatus(null);\n                    } finally{\n                        setCheckingSLA(false);\n                    }\n                }\n            }[\"CheckoutPage.useEffect.checkSLAStatus\"];\n            checkSLAStatus();\n        }\n    }[\"CheckoutPage.useEffect\"], [\n        userId\n    ]);\n    const handleCheckout = async ()=>{\n        setLoading(true);\n        try {\n            // Check if this is an upgrade scenario\n            const searchParams = new URLSearchParams(window.location.search);\n            const selectedTier = searchParams.get('slaTier');\n            const productType = searchParams.get('productType');\n            const isSLAPurchase = selectedTier && (productType === 'SLA' || productType === 'Both');\n            const isUpgrade = isSLAPurchase && (slaStatus === null || slaStatus === void 0 ? void 0 : slaStatus.hasActiveSLA) && getTierLevel(selectedTier) > getTierLevel(slaStatus.tier || '');\n            // If this is an upgrade, cancel the current subscription first\n            if (isUpgrade && (slaStatus === null || slaStatus === void 0 ? void 0 : slaStatus.subscriptionId)) {\n                const confirmUpgrade = window.confirm(\"You are upgrading from \".concat(slaStatus.tier, \" to \").concat(selectedTier, \". Your current active \").concat(slaStatus.tier, \" subscription will be cancelled. Do you want to continue?\"));\n                if (!confirmUpgrade) {\n                    setLoading(false);\n                    return;\n                }\n                const cancelRes = await fetch('/api/cancel-subscription', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({\n                        subscriptionId: slaStatus.subscriptionId\n                    })\n                });\n                if (!cancelRes.ok) {\n                    const errorData = await cancelRes.json();\n                    alert(\"Failed to cancel current subscription: \".concat(errorData.error));\n                    setLoading(false);\n                    return;\n                }\n            }\n            const res = await fetch('/api/yousign/start-signing', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    ref,\n                    signerFirstName,\n                    signerLastName,\n                    signerEmail\n                })\n            });\n            console.log('app\\checkout\\page.tsx body', JSON.stringify({\n                ref,\n                signerFirstName,\n                signerLastName\n            }));\n            const data = await res.json();\n            if (!res.ok || !data.signatureRequestId || !data.signatureLink) {\n                alert('Error when starting the signature procedure');\n                setLoading(false);\n                return;\n            }\n            localStorage.setItem('referrer', ref || '');\n            console.log('referrer from app\\checkout\\page.tsx', ref);\n            // Redirect to an intermediate page that monitors the status of the signature\n            // Get product selection parameters from URL\n            const location = searchParams.get('location');\n            const includeSubscription = searchParams.get('includeSubscription');\n            const params = new URLSearchParams();\n            params.set('signatureRequestId', data.signatureRequestId);\n            params.set('signatureLink', data.signatureLink); // Don't double-encode\n            if (ref) params.set('ref', ref);\n            if (userId) params.set('userId', userId);\n            if (location) params.set('location', location);\n            if (productType) params.set('productType', productType);\n            if (selectedTier) params.set('slaTier', selectedTier);\n            if (includeSubscription) params.set('includeSubscription', includeSubscription);\n            router.push(\"/signature-status?\".concat(params.toString()));\n        } catch (err) {\n            console.error('Error when starting signature:', err);\n            alert('An error has occurred');\n        } finally{\n            setLoading(false);\n        }\n    };\n    const getSLAStatusColor = ()=>{\n        if (!slaStatus) return 'text-gray-600';\n        return slaStatus.hasActiveSLA ? 'text-green-600' : 'text-red-600';\n    };\n    const getSLAStatusText = ()=>{\n        if (checkingSLA) return 'Checking SLA status...';\n        if (slaError) return \"Error: \".concat(slaError);\n        if (!userId) return 'No user ID provided';\n        if (slaStatus === null || slaStatus === void 0 ? void 0 : slaStatus.hasActiveSLA) {\n            return \"Active \".concat(slaStatus.tier, \" SLA (\").concat(slaStatus.location, \")\");\n        }\n        return 'No active SLA found';\n    };\n    const getUpgradeInfo = ()=>{\n        if (!(slaStatus === null || slaStatus === void 0 ? void 0 : slaStatus.hasActiveSLA)) return null;\n        const searchParams = new URLSearchParams(window.location.search);\n        const selectedTier = searchParams.get('slaTier');\n        const productType = searchParams.get('productType');\n        if (!selectedTier || productType !== 'SLA' && productType !== 'Both') {\n            return null;\n        }\n        const currentTierLevel = getTierLevel(slaStatus.tier || '');\n        const selectedTierLevel = getTierLevel(selectedTier);\n        if (selectedTierLevel > currentTierLevel) {\n            return {\n                isUpgrade: true,\n                fromTier: slaStatus.tier,\n                toTier: selectedTier,\n                message: \"Upgrade from \".concat(slaStatus.tier, \" to \").concat(selectedTier, \" - current active subscription will be cancelled\")\n            };\n        }\n        return null;\n    };\n    const getTierLevel = (tier)=>{\n        const tierMap = {\n            'Bronze': 1,\n            'Silver': 2,\n            'Gold': 3\n        };\n        return tierMap[tier] || 0;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"p-8 text-center\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                className: \"text-2xl font-bold mb-4\",\n                children: \"Did someone invite you? Let's check...\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\DmitryKiporenko\\\\Desktop\\\\new\\\\subscriptions-UAH\\\\app\\\\checkout\\\\page.tsx\",\n                lineNumber: 246,\n                columnNumber: 7\n            }, this),\n            ref ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"mb-4 text-sm\",\n                children: inviterName ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        \"You were invited by: \",\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                            children: inviterName\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\DmitryKiporenko\\\\Desktop\\\\new\\\\subscriptions-UAH\\\\app\\\\checkout\\\\page.tsx\",\n                            lineNumber: 251,\n                            columnNumber: 38\n                        }, this)\n                    ]\n                }, void 0, true) : 'Searching for the user who invited you...'\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\DmitryKiporenko\\\\Desktop\\\\new\\\\subscriptions-UAH\\\\app\\\\checkout\\\\page.tsx\",\n                lineNumber: 249,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"mb-4 text-sm text-gray-600\",\n                children: \"Referral link was not used\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\DmitryKiporenko\\\\Desktop\\\\new\\\\subscriptions-UAH\\\\app\\\\checkout\\\\page.tsx\",\n                lineNumber: 255,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"mb-4 text-sm text-gray-600\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                    children: \"Enter the details of the person signing the documents\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\DmitryKiporenko\\\\Desktop\\\\new\\\\subscriptions-UAH\\\\app\\\\checkout\\\\page.tsx\",\n                    lineNumber: 261,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\DmitryKiporenko\\\\Desktop\\\\new\\\\subscriptions-UAH\\\\app\\\\checkout\\\\page.tsx\",\n                lineNumber: 260,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                id: \"signerFirstName\",\n                type: \"text\",\n                value: signerFirstName,\n                onChange: (e)=>setSignerFirstName(e.target.value),\n                placeholder: \"First name\",\n                className: \"w-full px-4 py-2 border border-gray-300 rounded mb-4\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\DmitryKiporenko\\\\Desktop\\\\new\\\\subscriptions-UAH\\\\app\\\\checkout\\\\page.tsx\",\n                lineNumber: 264,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                id: \"signerLastName\",\n                type: \"text\",\n                value: signerLastName,\n                onChange: (e)=>setSignerLastName(e.target.value),\n                placeholder: \"Last name\",\n                className: \"w-full px-4 py-2 border border-gray-300 rounded mb-4\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\DmitryKiporenko\\\\Desktop\\\\new\\\\subscriptions-UAH\\\\app\\\\checkout\\\\page.tsx\",\n                lineNumber: 273,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                id: \"signerEmail\",\n                type: \"email\",\n                value: signerEmail,\n                onChange: (e)=>setSignerEmail(e.target.value),\n                placeholder: \"E-mail\",\n                className: \"w-full px-4 py-2 border border-gray-300 rounded mb-4\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\DmitryKiporenko\\\\Desktop\\\\new\\\\subscriptions-UAH\\\\app\\\\checkout\\\\page.tsx\",\n                lineNumber: 282,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 text-sm font-medium \".concat(getSLAStatusColor()),\n                children: getSLAStatusText()\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\DmitryKiporenko\\\\Desktop\\\\new\\\\subscriptions-UAH\\\\app\\\\checkout\\\\page.tsx\",\n                lineNumber: 292,\n                columnNumber: 7\n            }, this),\n            tierError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 text-sm font-medium text-red-600\",\n                children: tierError\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\DmitryKiporenko\\\\Desktop\\\\new\\\\subscriptions-UAH\\\\app\\\\checkout\\\\page.tsx\",\n                lineNumber: 298,\n                columnNumber: 9\n            }, this),\n            (()=>{\n                const upgradeInfo = getUpgradeInfo();\n                return upgradeInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded text-sm text-yellow-800\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                            children: \"⚠️ Upgrade Notice:\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\DmitryKiporenko\\\\Desktop\\\\new\\\\subscriptions-UAH\\\\app\\\\checkout\\\\page.tsx\",\n                            lineNumber: 308,\n                            columnNumber: 13\n                        }, this),\n                        \" \",\n                        upgradeInfo.message\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\DmitryKiporenko\\\\Desktop\\\\new\\\\subscriptions-UAH\\\\app\\\\checkout\\\\page.tsx\",\n                    lineNumber: 307,\n                    columnNumber: 11\n                }, this);\n            })(),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed\",\n                onClick: handleCheckout,\n                disabled: loading || ref && !inviterName || !signerFirstName || !signerLastName || !signerEmail || !!tierError,\n                children: loading ? 'Loading...' : 'Proceed to signing documents'\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\DmitryKiporenko\\\\Desktop\\\\new\\\\subscriptions-UAH\\\\app\\\\checkout\\\\page.tsx\",\n                lineNumber: 313,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\DmitryKiporenko\\\\Desktop\\\\new\\\\subscriptions-UAH\\\\app\\\\checkout\\\\page.tsx\",\n        lineNumber: 245,\n        columnNumber: 5\n    }, this);\n}\n_s(CheckoutPage, \"FVCyFRHozBI1tr+/EDO3+RMXzD4=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_1__.useSearchParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_1__.useRouter\n    ];\n});\n_c = CheckoutPage;\nvar _c;\n$RefreshReg$(_c, \"CheckoutPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jaGVja291dC9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRTZEO0FBQ2pCO0FBUzdCLFNBQVNJOztJQUN0QixNQUFNQyxlQUFlSixnRUFBZUE7SUFDcEMsTUFBTSxDQUFDSyxTQUFTQyxXQUFXLEdBQUdKLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ0ssYUFBYUMsZUFBZSxHQUFHTiwrQ0FBUUEsQ0FBZ0I7SUFDOUQsTUFBTSxDQUFDTyxpQkFBaUJDLG1CQUFtQixHQUFHUiwrQ0FBUUEsQ0FBQztJQUN2RCxNQUFNLENBQUNTLGdCQUFnQkMsa0JBQWtCLEdBQUdWLCtDQUFRQSxDQUFDO0lBQ3JELE1BQU0sQ0FBQ1csYUFBYUMsZUFBZSxHQUFHWiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNhLFdBQVdDLGFBQWEsR0FBR2QsK0NBQVFBLENBQW1CO0lBQzdELE1BQU0sQ0FBQ2UsYUFBYUMsZUFBZSxHQUFHaEIsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDaUIsVUFBVUMsWUFBWSxHQUFHbEIsK0NBQVFBLENBQWdCO0lBQ3hELE1BQU0sQ0FBQ21CLFdBQVdDLGFBQWEsR0FBR3BCLCtDQUFRQSxDQUFnQjtJQUUxRCxNQUFNcUIsTUFBTW5CLGFBQWFvQixHQUFHLENBQUMsUUFBUSxjQUFjO0lBQ25ELE1BQU1DLFNBQVNyQixhQUFhb0IsR0FBRyxDQUFDLFdBQVcsa0JBQWtCO0lBQzdELE1BQU1FLFNBQVMzQiwwREFBU0E7SUFFeEI0QixRQUFRQyxHQUFHLENBQUM7SUFFWjNCLGdEQUFTQTtrQ0FBQztZQUNSLE1BQU00Qjt1REFBZTtvQkFDbkIsSUFBSSxDQUFDTixLQUFLO29CQUVWLElBQUk7d0JBQ0YsTUFBTU8sTUFBTSxNQUFNQyxNQUFNLG1DQUF1QyxPQUFKUjt3QkFDM0QsTUFBTVMsT0FBTyxNQUFNRixJQUFJRyxJQUFJO3dCQUUzQixJQUFJSCxJQUFJSSxFQUFFLEtBQUlGLGlCQUFBQSwyQkFBQUEsS0FBTUcsSUFBSSxHQUFFOzRCQUN4QjNCLGVBQWV3QixLQUFLRyxJQUFJO3dCQUMxQixPQUFPOzRCQUNMM0IsZUFBZTt3QkFDakI7b0JBQ0YsRUFBRSxPQUFPNEIsT0FBTzt3QkFDZFQsUUFBUVMsS0FBSyxDQUFDLGlDQUFpQ0E7d0JBQy9DNUIsZUFBZTtvQkFDakI7Z0JBQ0Y7O1lBRUFxQjtRQUNGO2lDQUFHO1FBQUNOO0tBQUk7SUFFUnRCLGdEQUFTQTtrQ0FBQztZQUNSLE1BQU1vQzt5REFBaUI7b0JBQ3JCLElBQUksQ0FBQ1osUUFBUTt3QkFDWFQsYUFBYTt3QkFDYkksWUFBWTt3QkFDWkUsYUFBYTt3QkFDYjtvQkFDRjtvQkFFQUosZUFBZTtvQkFDZkUsWUFBWTtvQkFDWkUsYUFBYTtvQkFFYixJQUFJO3dCQUNGLE1BQU1RLE1BQU0sTUFBTUMsTUFBTSxnQ0FBMkQsT0FBM0JPLG1CQUFtQmI7d0JBQzNFLE1BQU1PLE9BQU8sTUFBTUYsSUFBSUcsSUFBSTt3QkFFM0IsSUFBSUgsSUFBSUksRUFBRSxFQUFFOzRCQUNWbEIsYUFBYTtnQ0FDWHVCLGNBQWNQLEtBQUtPLFlBQVk7Z0NBQy9CQyxNQUFNUixLQUFLUyxPQUFPO2dDQUNsQkMsVUFBVVYsS0FBS1UsUUFBUTtnQ0FDdkJDLGdCQUFnQlgsS0FBS1csY0FBYzs0QkFDckM7NEJBRUEsNERBQTREOzRCQUM1RCxNQUFNQyxZQUFZLElBQUlDLGdCQUFnQkMsT0FBT0osUUFBUSxDQUFDSyxNQUFNOzRCQUM1RCxNQUFNQyxlQUFlSixVQUFVcEIsR0FBRyxDQUFDOzRCQUNuQyxNQUFNeUIsY0FBY0wsVUFBVXBCLEdBQUcsQ0FBQzs0QkFFbEMsSUFBSVEsS0FBS08sWUFBWSxJQUFJUyxnQkFBaUJDLENBQUFBLGdCQUFnQixTQUFTQSxnQkFBZ0IsTUFBSyxHQUFJO2dDQUMxRixNQUFNQyxtQkFBbUJDLGFBQWFuQixLQUFLUyxPQUFPO2dDQUNsRCxNQUFNVyxvQkFBb0JELGFBQWFIO2dDQUV2QyxJQUFJSSxxQkFBcUJGLGtCQUFrQjtvQ0FDekM1QixhQUFhO2dDQUNmOzRCQUNGO3dCQUNGLE9BQU87NEJBQ0xGLFlBQVlZLEtBQUtJLEtBQUssSUFBSTs0QkFDMUJwQixhQUFhO3dCQUNmO29CQUNGLEVBQUUsT0FBT29CLE9BQU87d0JBQ2RULFFBQVFTLEtBQUssQ0FBQyw4QkFBOEJBO3dCQUM1Q2hCLFlBQVk7d0JBQ1pKLGFBQWE7b0JBQ2YsU0FBVTt3QkFDUkUsZUFBZTtvQkFDakI7Z0JBQ0Y7O1lBRUFtQjtRQUNGO2lDQUFHO1FBQUNaO0tBQU87SUFFWCxNQUFNNEIsaUJBQWlCO1FBQ3JCL0MsV0FBVztRQUVYLElBQUk7WUFDRix1Q0FBdUM7WUFDdkMsTUFBTUYsZUFBZSxJQUFJeUMsZ0JBQWdCQyxPQUFPSixRQUFRLENBQUNLLE1BQU07WUFDL0QsTUFBTUMsZUFBZTVDLGFBQWFvQixHQUFHLENBQUM7WUFDdEMsTUFBTXlCLGNBQWM3QyxhQUFhb0IsR0FBRyxDQUFDO1lBRXJDLE1BQU04QixnQkFBZ0JOLGdCQUFpQkMsQ0FBQUEsZ0JBQWdCLFNBQVNBLGdCQUFnQixNQUFLO1lBQ3JGLE1BQU1NLFlBQVlELGtCQUNEdkMsc0JBQUFBLGdDQUFBQSxVQUFXd0IsWUFBWSxLQUN2QlksYUFBYUgsZ0JBQWdCRyxhQUFhcEMsVUFBVXlCLElBQUksSUFBSTtZQUU3RSwrREFBK0Q7WUFDL0QsSUFBSWUsY0FBYXhDLHNCQUFBQSxnQ0FBQUEsVUFBVzRCLGNBQWMsR0FBRTtnQkFDMUMsTUFBTWEsaUJBQWlCVixPQUFPVyxPQUFPLENBQ25DLDBCQUErQ1QsT0FBckJqQyxVQUFVeUIsSUFBSSxFQUFDLFFBQTJDekIsT0FBckNpQyxjQUFhLDBCQUF1QyxPQUFmakMsVUFBVXlCLElBQUksRUFBQztnQkFHckcsSUFBSSxDQUFDZ0IsZ0JBQWdCO29CQUNuQmxELFdBQVc7b0JBQ1g7Z0JBQ0Y7Z0JBRUEsTUFBTW9ELFlBQVksTUFBTTNCLE1BQU0sNEJBQTRCO29CQUN4RDRCLFFBQVE7b0JBQ1JDLFNBQVM7d0JBQUUsZ0JBQWdCO29CQUFtQjtvQkFDOUNDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQzt3QkFBRXBCLGdCQUFnQjVCLFVBQVU0QixjQUFjO29CQUFDO2dCQUNsRTtnQkFFQSxJQUFJLENBQUNlLFVBQVV4QixFQUFFLEVBQUU7b0JBQ2pCLE1BQU04QixZQUFZLE1BQU1OLFVBQVV6QixJQUFJO29CQUN0Q2dDLE1BQU0sMENBQTBELE9BQWhCRCxVQUFVNUIsS0FBSztvQkFDL0Q5QixXQUFXO29CQUNYO2dCQUNGO1lBQ0Y7WUFFQSxNQUFNd0IsTUFBTSxNQUFNQyxNQUFNLDhCQUE4QjtnQkFDcEQ0QixRQUFRO2dCQUNSQyxTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7Z0JBQzlDQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7b0JBQ25CeEM7b0JBQ0FkO29CQUNBRTtvQkFDQUU7Z0JBQ0Y7WUFDRjtZQUVBYyxRQUFRQyxHQUFHLENBQUUsOEJBQThCa0MsS0FBS0MsU0FBUyxDQUFDO2dCQUFFeEM7Z0JBQUtkO2dCQUFpQkU7WUFBZTtZQUVqRyxNQUFNcUIsT0FBTyxNQUFNRixJQUFJRyxJQUFJO1lBRTNCLElBQUksQ0FBQ0gsSUFBSUksRUFBRSxJQUFJLENBQUNGLEtBQUtrQyxrQkFBa0IsSUFBSSxDQUFDbEMsS0FBS21DLGFBQWEsRUFBRTtnQkFDOURGLE1BQU07Z0JBQ04zRCxXQUFXO2dCQUNYO1lBQ0Y7WUFDQThELGFBQWFDLE9BQU8sQ0FBQyxZQUFZOUMsT0FBTztZQUN4Q0ksUUFBUUMsR0FBRyxDQUFDLHVDQUF1Q0w7WUFFbkQsNkVBQTZFO1lBQzdFLDRDQUE0QztZQUM1QyxNQUFNbUIsV0FBV3RDLGFBQWFvQixHQUFHLENBQUM7WUFDbEMsTUFBTThDLHNCQUFzQmxFLGFBQWFvQixHQUFHLENBQUM7WUFFN0MsTUFBTStDLFNBQVMsSUFBSTFCO1lBQ25CMEIsT0FBT0MsR0FBRyxDQUFDLHNCQUFzQnhDLEtBQUtrQyxrQkFBa0I7WUFDeERLLE9BQU9DLEdBQUcsQ0FBQyxpQkFBaUJ4QyxLQUFLbUMsYUFBYSxHQUFHLHNCQUFzQjtZQUN2RSxJQUFJNUMsS0FBS2dELE9BQU9DLEdBQUcsQ0FBQyxPQUFPakQ7WUFDM0IsSUFBSUUsUUFBUThDLE9BQU9DLEdBQUcsQ0FBQyxVQUFVL0M7WUFDakMsSUFBSWlCLFVBQVU2QixPQUFPQyxHQUFHLENBQUMsWUFBWTlCO1lBQ3JDLElBQUlPLGFBQWFzQixPQUFPQyxHQUFHLENBQUMsZUFBZXZCO1lBQzNDLElBQUlELGNBQWN1QixPQUFPQyxHQUFHLENBQUMsV0FBV3hCO1lBQ3hDLElBQUlzQixxQkFBcUJDLE9BQU9DLEdBQUcsQ0FBQyx1QkFBdUJGO1lBRTNENUMsT0FBTytDLElBQUksQ0FBQyxxQkFBdUMsT0FBbEJGLE9BQU9HLFFBQVE7UUFDbEQsRUFBRSxPQUFPQyxLQUFLO1lBQ1poRCxRQUFRUyxLQUFLLENBQUMsa0NBQWtDdUM7WUFDaERWLE1BQU07UUFDUixTQUFVO1lBQ1IzRCxXQUFXO1FBQ2I7SUFDRjtJQUVBLE1BQU1zRSxvQkFBb0I7UUFDeEIsSUFBSSxDQUFDN0QsV0FBVyxPQUFPO1FBQ3ZCLE9BQU9BLFVBQVV3QixZQUFZLEdBQUcsbUJBQW1CO0lBQ3JEO0lBRUEsTUFBTXNDLG1CQUFtQjtRQUN2QixJQUFJNUQsYUFBYSxPQUFPO1FBQ3hCLElBQUlFLFVBQVUsT0FBTyxVQUFtQixPQUFUQTtRQUMvQixJQUFJLENBQUNNLFFBQVEsT0FBTztRQUVwQixJQUFJVixzQkFBQUEsZ0NBQUFBLFVBQVd3QixZQUFZLEVBQUU7WUFDM0IsT0FBTyxVQUFpQ3hCLE9BQXZCQSxVQUFVeUIsSUFBSSxFQUFDLFVBQTJCLE9BQW5CekIsVUFBVTJCLFFBQVEsRUFBQztRQUM3RDtRQUNBLE9BQU87SUFDVDtJQUVBLE1BQU1vQyxpQkFBaUI7UUFDckIsSUFBSSxFQUFDL0Qsc0JBQUFBLGdDQUFBQSxVQUFXd0IsWUFBWSxHQUFFLE9BQU87UUFFckMsTUFBTW5DLGVBQWUsSUFBSXlDLGdCQUFnQkMsT0FBT0osUUFBUSxDQUFDSyxNQUFNO1FBQy9ELE1BQU1DLGVBQWU1QyxhQUFhb0IsR0FBRyxDQUFDO1FBQ3RDLE1BQU15QixjQUFjN0MsYUFBYW9CLEdBQUcsQ0FBQztRQUVyQyxJQUFJLENBQUN3QixnQkFBaUJDLGdCQUFnQixTQUFTQSxnQkFBZ0IsUUFBUztZQUN0RSxPQUFPO1FBQ1Q7UUFFQSxNQUFNQyxtQkFBbUJDLGFBQWFwQyxVQUFVeUIsSUFBSSxJQUFJO1FBQ3hELE1BQU1ZLG9CQUFvQkQsYUFBYUg7UUFFdkMsSUFBSUksb0JBQW9CRixrQkFBa0I7WUFDeEMsT0FBTztnQkFDTEssV0FBVztnQkFDWHdCLFVBQVVoRSxVQUFVeUIsSUFBSTtnQkFDeEJ3QyxRQUFRaEM7Z0JBQ1JpQyxTQUFTLGdCQUFxQ2pDLE9BQXJCakMsVUFBVXlCLElBQUksRUFBQyxRQUFtQixPQUFiUSxjQUFhO1lBQzdEO1FBQ0Y7UUFFQSxPQUFPO0lBQ1Q7SUFFQSxNQUFNRyxlQUFlLENBQUNYO1FBQ3BCLE1BQU0wQyxVQUFrQztZQUN0QyxVQUFVO1lBQ1YsVUFBVTtZQUNWLFFBQVE7UUFDVjtRQUNBLE9BQU9BLE9BQU8sQ0FBQzFDLEtBQUssSUFBSTtJQUMxQjtJQUVBLHFCQUNFLDhEQUFDMkM7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUNDO2dCQUFHRCxXQUFVOzBCQUEwQjs7Ozs7O1lBRXZDN0Qsb0JBQ0MsOERBQUMrRDtnQkFBRUYsV0FBVTswQkFDVjdFLDRCQUNHOzt3QkFBRTtzQ0FBcUIsOERBQUNnRjtzQ0FBUWhGOzs7Ozs7O21DQUNoQzs7Ozs7cUNBR04sOERBQUMrRTtnQkFBRUYsV0FBVTswQkFBNkI7Ozs7OzswQkFLNUMsOERBQUNFO2dCQUFFRixXQUFVOzBCQUNULDRFQUFDRzs4QkFBTzs7Ozs7Ozs7Ozs7MEJBR1osOERBQUNDO2dCQUNHQyxJQUFHO2dCQUNIQyxNQUFLO2dCQUNMQyxPQUFPbEY7Z0JBQ1BtRixVQUFVLENBQUNDLElBQU1uRixtQkFBbUJtRixFQUFFQyxNQUFNLENBQUNILEtBQUs7Z0JBQ2xESSxhQUFZO2dCQUNaWCxXQUFVOzs7Ozs7MEJBR2QsOERBQUNJO2dCQUNHQyxJQUFHO2dCQUNIQyxNQUFLO2dCQUNMQyxPQUFPaEY7Z0JBQ1BpRixVQUFVLENBQUNDLElBQU1qRixrQkFBa0JpRixFQUFFQyxNQUFNLENBQUNILEtBQUs7Z0JBQ2pESSxhQUFZO2dCQUNaWCxXQUFVOzs7Ozs7MEJBR2QsOERBQUNJO2dCQUNHQyxJQUFHO2dCQUNIQyxNQUFLO2dCQUNMQyxPQUFPOUU7Z0JBQ1ArRSxVQUFVLENBQUNDLElBQU0vRSxlQUFlK0UsRUFBRUMsTUFBTSxDQUFDSCxLQUFLO2dCQUM5Q0ksYUFBWTtnQkFDWlgsV0FBVTs7Ozs7OzBCQUlkLDhEQUFDRDtnQkFBSUMsV0FBVyw0QkFBZ0QsT0FBcEJSOzBCQUN6Q0M7Ozs7OztZQUlGeEQsMkJBQ0MsOERBQUM4RDtnQkFBSUMsV0FBVTswQkFDWi9EOzs7Ozs7WUFLSDtnQkFDQSxNQUFNMkUsY0FBY2xCO2dCQUNwQixPQUFPa0IsNkJBQ0wsOERBQUNiO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0c7c0NBQU87Ozs7Ozt3QkFBMkI7d0JBQUVTLFlBQVlmLE9BQU87Ozs7Ozs7WUFHOUQ7MEJBRUEsOERBQUNnQjtnQkFDQ2IsV0FBVTtnQkFDVmMsU0FBUzdDO2dCQUNUOEMsVUFBVTlGLFdBQVlrQixPQUFPLENBQUNoQixlQUFnQixDQUFDRSxtQkFBbUIsQ0FBQ0Usa0JBQWtCLENBQUNFLGVBQWUsQ0FBQyxDQUFDUTswQkFFdEdoQixVQUFVLGVBQWU7Ozs7Ozs7Ozs7OztBQUlsQztHQXJUd0JGOztRQUNESCw0REFBZUE7UUFhckJELHNEQUFTQTs7O0tBZEZJIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXERtaXRyeUtpcG9yZW5rb1xcRGVza3RvcFxcbmV3XFxzdWJzY3JpcHRpb25zLVVBSFxcYXBwXFxjaGVja291dFxccGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlUm91dGVyLCB1c2VTZWFyY2hQYXJhbXMgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5cclxuaW50ZXJmYWNlIFNMQVN0YXR1cyB7XHJcbiAgaGFzQWN0aXZlU0xBOiBib29sZWFuO1xyXG4gIHRpZXI/OiBzdHJpbmc7XHJcbiAgbG9jYXRpb24/OiBzdHJpbmc7XHJcbiAgc3Vic2NyaXB0aW9uSWQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoZWNrb3V0UGFnZSgpIHtcclxuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2ludml0ZXJOYW1lLCBzZXRJbnZpdGVyTmFtZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbc2lnbmVyRmlyc3ROYW1lLCBzZXRTaWduZXJGaXJzdE5hbWVdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtzaWduZXJMYXN0TmFtZSwgc2V0U2lnbmVyTGFzdE5hbWVdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtzaWduZXJFbWFpbCwgc2V0U2lnbmVyRW1haWxdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtzbGFTdGF0dXMsIHNldFNsYVN0YXR1c10gPSB1c2VTdGF0ZTxTTEFTdGF0dXMgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbY2hlY2tpbmdTTEEsIHNldENoZWNraW5nU0xBXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc2xhRXJyb3IsIHNldFNsYUVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFt0aWVyRXJyb3IsIHNldFRpZXJFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuXHJcbiAgY29uc3QgcmVmID0gc2VhcmNoUGFyYW1zLmdldCgncmVmJyk7IC8vIHJlZmVycmVyIElkXHJcbiAgY29uc3QgdXNlcklkID0gc2VhcmNoUGFyYW1zLmdldCgndXNlcklkJyk7IC8vIHVzZXJJZCBmcm9tIFVSTFxyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gIFxyXG4gIGNvbnNvbGUubG9nKCctLUNoZWNrb3V0L3JvdXRlLnRzeCBleGVjdXRlZCcpO1xyXG4gIFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBmZXRjaEludml0ZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGlmICghcmVmKSByZXR1cm47XHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL3VzZXItYnktc3RyaXBlLWlkP3N0cmlwZUlkPSR7cmVmfWApO1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xyXG5cclxuICAgICAgICBpZiAocmVzLm9rICYmIGRhdGE/Lm5hbWUpIHtcclxuICAgICAgICAgIHNldEludml0ZXJOYW1lKGRhdGEubmFtZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNldEludml0ZXJOYW1lKG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggaW52aXRlciBpbmZvOicsIGVycm9yKTtcclxuICAgICAgICBzZXRJbnZpdGVyTmFtZShudWxsKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBmZXRjaEludml0ZXIoKTtcclxuICB9LCBbcmVmXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBjaGVja1NMQVN0YXR1cyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgaWYgKCF1c2VySWQpIHtcclxuICAgICAgICBzZXRTbGFTdGF0dXMobnVsbCk7XHJcbiAgICAgICAgc2V0U2xhRXJyb3IobnVsbCk7XHJcbiAgICAgICAgc2V0VGllckVycm9yKG51bGwpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2V0Q2hlY2tpbmdTTEEodHJ1ZSk7XHJcbiAgICAgIHNldFNsYUVycm9yKG51bGwpO1xyXG4gICAgICBzZXRUaWVyRXJyb3IobnVsbCk7XHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2NoZWNrLXNsYS1zdGF0dXM/dXNlcklkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHVzZXJJZCl9YCk7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XHJcblxyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHNldFNsYVN0YXR1cyh7XHJcbiAgICAgICAgICAgIGhhc0FjdGl2ZVNMQTogZGF0YS5oYXNBY3RpdmVTTEEsXHJcbiAgICAgICAgICAgIHRpZXI6IGRhdGEuc2xhVGllcixcclxuICAgICAgICAgICAgbG9jYXRpb246IGRhdGEubG9jYXRpb24sXHJcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbklkOiBkYXRhLnN1YnNjcmlwdGlvbklkXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBDaGVjayBmb3IgdGllciBjb25mbGljdCBpZiB1c2VyIGlzIHRyeWluZyB0byBwdXJjaGFzZSBTTEFcclxuICAgICAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZFRpZXIgPSB1cmxQYXJhbXMuZ2V0KCdzbGFUaWVyJyk7XHJcbiAgICAgICAgICBjb25zdCBwcm9kdWN0VHlwZSA9IHVybFBhcmFtcy5nZXQoJ3Byb2R1Y3RUeXBlJyk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChkYXRhLmhhc0FjdGl2ZVNMQSAmJiBzZWxlY3RlZFRpZXIgJiYgKHByb2R1Y3RUeXBlID09PSAnU0xBJyB8fCBwcm9kdWN0VHlwZSA9PT0gJ0JvdGgnKSkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VGllckxldmVsID0gZ2V0VGllckxldmVsKGRhdGEuc2xhVGllcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkVGllckxldmVsID0gZ2V0VGllckxldmVsKHNlbGVjdGVkVGllcik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRUaWVyTGV2ZWwgPD0gY3VycmVudFRpZXJMZXZlbCkge1xyXG4gICAgICAgICAgICAgIHNldFRpZXJFcnJvcignWW91IGFscmVhZHkgaGF2ZSBhbiBhY3RpdmUgc3Vic2NyaXB0aW9uIHdpdGggc2FtZSBvciBoaWdoZXIgYWNjZXNzIGxldmVsJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2V0U2xhRXJyb3IoZGF0YS5lcnJvciB8fCAnRmFpbGVkIHRvIGNoZWNrIFNMQSBzdGF0dXMnKTtcclxuICAgICAgICAgIHNldFNsYVN0YXR1cyhudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgU0xBIHN0YXR1czonLCBlcnJvcik7XHJcbiAgICAgICAgc2V0U2xhRXJyb3IoJ0ZhaWxlZCB0byBjaGVjayBTTEEgc3RhdHVzJyk7XHJcbiAgICAgICAgc2V0U2xhU3RhdHVzKG51bGwpO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIHNldENoZWNraW5nU0xBKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjaGVja1NMQVN0YXR1cygpO1xyXG4gIH0sIFt1c2VySWRdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ2hlY2tvdXQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGFuIHVwZ3JhZGUgc2NlbmFyaW9cclxuICAgICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuICAgICAgY29uc3Qgc2VsZWN0ZWRUaWVyID0gc2VhcmNoUGFyYW1zLmdldCgnc2xhVGllcicpO1xyXG4gICAgICBjb25zdCBwcm9kdWN0VHlwZSA9IHNlYXJjaFBhcmFtcy5nZXQoJ3Byb2R1Y3RUeXBlJyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBpc1NMQVB1cmNoYXNlID0gc2VsZWN0ZWRUaWVyICYmIChwcm9kdWN0VHlwZSA9PT0gJ1NMQScgfHwgcHJvZHVjdFR5cGUgPT09ICdCb3RoJyk7XHJcbiAgICAgIGNvbnN0IGlzVXBncmFkZSA9IGlzU0xBUHVyY2hhc2UgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICBzbGFTdGF0dXM/Lmhhc0FjdGl2ZVNMQSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgIGdldFRpZXJMZXZlbChzZWxlY3RlZFRpZXIpID4gZ2V0VGllckxldmVsKHNsYVN0YXR1cy50aWVyIHx8ICcnKTtcclxuICAgICAgXHJcbiAgICAgIC8vIElmIHRoaXMgaXMgYW4gdXBncmFkZSwgY2FuY2VsIHRoZSBjdXJyZW50IHN1YnNjcmlwdGlvbiBmaXJzdFxyXG4gICAgICBpZiAoaXNVcGdyYWRlICYmIHNsYVN0YXR1cz8uc3Vic2NyaXB0aW9uSWQpIHtcclxuICAgICAgICBjb25zdCBjb25maXJtVXBncmFkZSA9IHdpbmRvdy5jb25maXJtKFxyXG4gICAgICAgICAgYFlvdSBhcmUgdXBncmFkaW5nIGZyb20gJHtzbGFTdGF0dXMudGllcn0gdG8gJHtzZWxlY3RlZFRpZXJ9LiBZb3VyIGN1cnJlbnQgYWN0aXZlICR7c2xhU3RhdHVzLnRpZXJ9IHN1YnNjcmlwdGlvbiB3aWxsIGJlIGNhbmNlbGxlZC4gRG8geW91IHdhbnQgdG8gY29udGludWU/YFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFjb25maXJtVXBncmFkZSkge1xyXG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjYW5jZWxSZXMgPSBhd2FpdCBmZXRjaCgnL2FwaS9jYW5jZWwtc3Vic2NyaXB0aW9uJywge1xyXG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc3Vic2NyaXB0aW9uSWQ6IHNsYVN0YXR1cy5zdWJzY3JpcHRpb25JZCB9KSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFjYW5jZWxSZXMub2spIHtcclxuICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IGNhbmNlbFJlcy5qc29uKCk7XHJcbiAgICAgICAgICBhbGVydChgRmFpbGVkIHRvIGNhbmNlbCBjdXJyZW50IHN1YnNjcmlwdGlvbjogJHtlcnJvckRhdGEuZXJyb3J9YCk7XHJcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCcvYXBpL3lvdXNpZ24vc3RhcnQtc2lnbmluZycsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICByZWYsXHJcbiAgICAgICAgICBzaWduZXJGaXJzdE5hbWUsXHJcbiAgICAgICAgICBzaWduZXJMYXN0TmFtZSxcclxuICAgICAgICAgIHNpZ25lckVtYWlsXHJcbiAgICAgICAgfSksXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2cgKCdhcHBcXGNoZWNrb3V0XFxwYWdlLnRzeCBib2R5JywgSlNPTi5zdHJpbmdpZnkoeyByZWYsIHNpZ25lckZpcnN0TmFtZSwgc2lnbmVyTGFzdE5hbWUgfSkpO1xyXG5cclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XHJcblxyXG4gICAgICBpZiAoIXJlcy5vayB8fCAhZGF0YS5zaWduYXR1cmVSZXF1ZXN0SWQgfHwgIWRhdGEuc2lnbmF0dXJlTGluaykge1xyXG4gICAgICAgIGFsZXJ0KCdFcnJvciB3aGVuIHN0YXJ0aW5nIHRoZSBzaWduYXR1cmUgcHJvY2VkdXJlJyk7XHJcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWZlcnJlcicsIHJlZiB8fCAnJyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdyZWZlcnJlciBmcm9tIGFwcFxcY2hlY2tvdXRcXHBhZ2UudHN4JywgcmVmKTtcclxuXHJcbiAgICAgIC8vIFJlZGlyZWN0IHRvIGFuIGludGVybWVkaWF0ZSBwYWdlIHRoYXQgbW9uaXRvcnMgdGhlIHN0YXR1cyBvZiB0aGUgc2lnbmF0dXJlXHJcbiAgICAgIC8vIEdldCBwcm9kdWN0IHNlbGVjdGlvbiBwYXJhbWV0ZXJzIGZyb20gVVJMXHJcbiAgICAgIGNvbnN0IGxvY2F0aW9uID0gc2VhcmNoUGFyYW1zLmdldCgnbG9jYXRpb24nKTtcclxuICAgICAgY29uc3QgaW5jbHVkZVN1YnNjcmlwdGlvbiA9IHNlYXJjaFBhcmFtcy5nZXQoJ2luY2x1ZGVTdWJzY3JpcHRpb24nKTtcclxuXHJcbiAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcclxuICAgICAgcGFyYW1zLnNldCgnc2lnbmF0dXJlUmVxdWVzdElkJywgZGF0YS5zaWduYXR1cmVSZXF1ZXN0SWQpO1xyXG4gICAgICBwYXJhbXMuc2V0KCdzaWduYXR1cmVMaW5rJywgZGF0YS5zaWduYXR1cmVMaW5rKTsgLy8gRG9uJ3QgZG91YmxlLWVuY29kZVxyXG4gICAgICBpZiAocmVmKSBwYXJhbXMuc2V0KCdyZWYnLCByZWYpO1xyXG4gICAgICBpZiAodXNlcklkKSBwYXJhbXMuc2V0KCd1c2VySWQnLCB1c2VySWQpO1xyXG4gICAgICBpZiAobG9jYXRpb24pIHBhcmFtcy5zZXQoJ2xvY2F0aW9uJywgbG9jYXRpb24pO1xyXG4gICAgICBpZiAocHJvZHVjdFR5cGUpIHBhcmFtcy5zZXQoJ3Byb2R1Y3RUeXBlJywgcHJvZHVjdFR5cGUpO1xyXG4gICAgICBpZiAoc2VsZWN0ZWRUaWVyKSBwYXJhbXMuc2V0KCdzbGFUaWVyJywgc2VsZWN0ZWRUaWVyKTtcclxuICAgICAgaWYgKGluY2x1ZGVTdWJzY3JpcHRpb24pIHBhcmFtcy5zZXQoJ2luY2x1ZGVTdWJzY3JpcHRpb24nLCBpbmNsdWRlU3Vic2NyaXB0aW9uKTtcclxuXHJcbiAgICAgIHJvdXRlci5wdXNoKGAvc2lnbmF0dXJlLXN0YXR1cz8ke3BhcmFtcy50b1N0cmluZygpfWApO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHdoZW4gc3RhcnRpbmcgc2lnbmF0dXJlOicsIGVycik7XHJcbiAgICAgIGFsZXJ0KCdBbiBlcnJvciBoYXMgb2NjdXJyZWQnKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldFNMQVN0YXR1c0NvbG9yID0gKCkgPT4ge1xyXG4gICAgaWYgKCFzbGFTdGF0dXMpIHJldHVybiAndGV4dC1ncmF5LTYwMCc7XHJcbiAgICByZXR1cm4gc2xhU3RhdHVzLmhhc0FjdGl2ZVNMQSA/ICd0ZXh0LWdyZWVuLTYwMCcgOiAndGV4dC1yZWQtNjAwJztcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRTTEFTdGF0dXNUZXh0ID0gKCkgPT4ge1xyXG4gICAgaWYgKGNoZWNraW5nU0xBKSByZXR1cm4gJ0NoZWNraW5nIFNMQSBzdGF0dXMuLi4nO1xyXG4gICAgaWYgKHNsYUVycm9yKSByZXR1cm4gYEVycm9yOiAke3NsYUVycm9yfWA7XHJcbiAgICBpZiAoIXVzZXJJZCkgcmV0dXJuICdObyB1c2VyIElEIHByb3ZpZGVkJztcclxuICAgIFxyXG4gICAgaWYgKHNsYVN0YXR1cz8uaGFzQWN0aXZlU0xBKSB7XHJcbiAgICAgIHJldHVybiBgQWN0aXZlICR7c2xhU3RhdHVzLnRpZXJ9IFNMQSAoJHtzbGFTdGF0dXMubG9jYXRpb259KWA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJ05vIGFjdGl2ZSBTTEEgZm91bmQnO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldFVwZ3JhZGVJbmZvID0gKCkgPT4ge1xyXG4gICAgaWYgKCFzbGFTdGF0dXM/Lmhhc0FjdGl2ZVNMQSkgcmV0dXJuIG51bGw7XHJcbiAgICBcclxuICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbiAgICBjb25zdCBzZWxlY3RlZFRpZXIgPSBzZWFyY2hQYXJhbXMuZ2V0KCdzbGFUaWVyJyk7XHJcbiAgICBjb25zdCBwcm9kdWN0VHlwZSA9IHNlYXJjaFBhcmFtcy5nZXQoJ3Byb2R1Y3RUeXBlJyk7XHJcbiAgICBcclxuICAgIGlmICghc2VsZWN0ZWRUaWVyIHx8IChwcm9kdWN0VHlwZSAhPT0gJ1NMQScgJiYgcHJvZHVjdFR5cGUgIT09ICdCb3RoJykpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGN1cnJlbnRUaWVyTGV2ZWwgPSBnZXRUaWVyTGV2ZWwoc2xhU3RhdHVzLnRpZXIgfHwgJycpO1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRUaWVyTGV2ZWwgPSBnZXRUaWVyTGV2ZWwoc2VsZWN0ZWRUaWVyKTtcclxuICAgIFxyXG4gICAgaWYgKHNlbGVjdGVkVGllckxldmVsID4gY3VycmVudFRpZXJMZXZlbCkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGlzVXBncmFkZTogdHJ1ZSxcclxuICAgICAgICBmcm9tVGllcjogc2xhU3RhdHVzLnRpZXIsXHJcbiAgICAgICAgdG9UaWVyOiBzZWxlY3RlZFRpZXIsXHJcbiAgICAgICAgbWVzc2FnZTogYFVwZ3JhZGUgZnJvbSAke3NsYVN0YXR1cy50aWVyfSB0byAke3NlbGVjdGVkVGllcn0gLSBjdXJyZW50IGFjdGl2ZSBzdWJzY3JpcHRpb24gd2lsbCBiZSBjYW5jZWxsZWRgXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldFRpZXJMZXZlbCA9ICh0aWVyOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3QgdGllck1hcDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcclxuICAgICAgJ0Jyb256ZSc6IDEsXHJcbiAgICAgICdTaWx2ZXInOiAyLFxyXG4gICAgICAnR29sZCc6IDMsXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHRpZXJNYXBbdGllcl0gfHwgMDtcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwLTggdGV4dC1jZW50ZXJcIj5cclxuICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi00XCI+RGlkIHNvbWVvbmUgaW52aXRlIHlvdT8gTGV0J3MgY2hlY2suLi48L2gxPlxyXG5cclxuICAgICAge3JlZiA/IChcclxuICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi00IHRleHQtc21cIj5cclxuICAgICAgICAgIHtpbnZpdGVyTmFtZVxyXG4gICAgICAgICAgICA/IDw+WW91IHdlcmUgaW52aXRlZCBieTogPHN0cm9uZz57aW52aXRlck5hbWV9PC9zdHJvbmc+PC8+XHJcbiAgICAgICAgICAgIDogJ1NlYXJjaGluZyBmb3IgdGhlIHVzZXIgd2hvIGludml0ZWQgeW91Li4uJ31cclxuICAgICAgICA8L3A+XHJcbiAgICAgICkgOiAoXHJcbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItNCB0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cclxuICAgICAgICAgIFJlZmVycmFsIGxpbmsgd2FzIG5vdCB1c2VkXHJcbiAgICAgICAgPC9wPlxyXG4gICAgICApfVxyXG5cclxuICAgICAgPHAgY2xhc3NOYW1lPVwibWItNCB0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cclxuICAgICAgICAgIDxzdHJvbmc+RW50ZXIgdGhlIGRldGFpbHMgb2YgdGhlIHBlcnNvbiBzaWduaW5nIHRoZSBkb2N1bWVudHM8L3N0cm9uZz5cclxuICAgICAgPC9wPlxyXG5cclxuICAgICAgPGlucHV0XHJcbiAgICAgICAgICBpZD1cInNpZ25lckZpcnN0TmFtZVwiXHJcbiAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICB2YWx1ZT17c2lnbmVyRmlyc3ROYW1lfVxyXG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTaWduZXJGaXJzdE5hbWUoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJGaXJzdCBuYW1lXCJcclxuICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC00IHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIG1iLTRcIlxyXG4gICAgICAvPlxyXG5cclxuICAgICAgPGlucHV0XHJcbiAgICAgICAgICBpZD1cInNpZ25lckxhc3ROYW1lXCJcclxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgIHZhbHVlPXtzaWduZXJMYXN0TmFtZX1cclxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2lnbmVyTGFzdE5hbWUoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJMYXN0IG5hbWVcIlxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgbWItNFwiXHJcbiAgICAgIC8+XHJcblxyXG4gICAgICA8aW5wdXRcclxuICAgICAgICAgIGlkPVwic2lnbmVyRW1haWxcIlxyXG4gICAgICAgICAgdHlwZT1cImVtYWlsXCJcclxuICAgICAgICAgIHZhbHVlPXtzaWduZXJFbWFpbH1cclxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2lnbmVyRW1haWwoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJFLW1haWxcIlxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgbWItNFwiXHJcbiAgICAgIC8+XHJcblxyXG4gICAgICB7LyogU0xBIFN0YXR1cyBEaXNwbGF5ICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YG1iLTQgdGV4dC1zbSBmb250LW1lZGl1bSAke2dldFNMQVN0YXR1c0NvbG9yKCl9YH0+XHJcbiAgICAgICAge2dldFNMQVN0YXR1c1RleHQoKX1cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogVGllciBFcnJvciBEaXNwbGF5ICovfVxyXG4gICAgICB7dGllckVycm9yICYmIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXJlZC02MDBcIj5cclxuICAgICAgICAgIHt0aWVyRXJyb3J9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICB7LyogVXBncmFkZSBXYXJuaW5nIERpc3BsYXkgKi99XHJcbiAgICAgIHsoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVwZ3JhZGVJbmZvID0gZ2V0VXBncmFkZUluZm8oKTtcclxuICAgICAgICByZXR1cm4gdXBncmFkZUluZm8gJiYgKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IHAtMyBiZy15ZWxsb3ctNTAgYm9yZGVyIGJvcmRlci15ZWxsb3ctMjAwIHJvdW5kZWQgdGV4dC1zbSB0ZXh0LXllbGxvdy04MDBcIj5cclxuICAgICAgICAgICAgPHN0cm9uZz7imqDvuI8gVXBncmFkZSBOb3RpY2U6PC9zdHJvbmc+IHt1cGdyYWRlSW5mby5tZXNzYWdlfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgICAgfSkoKX1cclxuXHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBjbGFzc05hbWU9XCJweC02IHB5LTIgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkIGhvdmVyOmJnLWJsdWUtNzAwIGRpc2FibGVkOmJnLWdyYXktNDAwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXHJcbiAgICAgICAgb25DbGljaz17aGFuZGxlQ2hlY2tvdXR9XHJcbiAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmcgfHwgKHJlZiAmJiAhaW52aXRlck5hbWUpIHx8ICFzaWduZXJGaXJzdE5hbWUgfHwgIXNpZ25lckxhc3ROYW1lIHx8ICFzaWduZXJFbWFpbCB8fCAhIXRpZXJFcnJvcn1cclxuICAgICAgPlxyXG4gICAgICAgIHtsb2FkaW5nID8gJ0xvYWRpbmcuLi4nIDogJ1Byb2NlZWQgdG8gc2lnbmluZyBkb2N1bWVudHMnfVxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZVJvdXRlciIsInVzZVNlYXJjaFBhcmFtcyIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiQ2hlY2tvdXRQYWdlIiwic2VhcmNoUGFyYW1zIiwibG9hZGluZyIsInNldExvYWRpbmciLCJpbnZpdGVyTmFtZSIsInNldEludml0ZXJOYW1lIiwic2lnbmVyRmlyc3ROYW1lIiwic2V0U2lnbmVyRmlyc3ROYW1lIiwic2lnbmVyTGFzdE5hbWUiLCJzZXRTaWduZXJMYXN0TmFtZSIsInNpZ25lckVtYWlsIiwic2V0U2lnbmVyRW1haWwiLCJzbGFTdGF0dXMiLCJzZXRTbGFTdGF0dXMiLCJjaGVja2luZ1NMQSIsInNldENoZWNraW5nU0xBIiwic2xhRXJyb3IiLCJzZXRTbGFFcnJvciIsInRpZXJFcnJvciIsInNldFRpZXJFcnJvciIsInJlZiIsImdldCIsInVzZXJJZCIsInJvdXRlciIsImNvbnNvbGUiLCJsb2ciLCJmZXRjaEludml0ZXIiLCJyZXMiLCJmZXRjaCIsImRhdGEiLCJqc29uIiwib2siLCJuYW1lIiwiZXJyb3IiLCJjaGVja1NMQVN0YXR1cyIsImVuY29kZVVSSUNvbXBvbmVudCIsImhhc0FjdGl2ZVNMQSIsInRpZXIiLCJzbGFUaWVyIiwibG9jYXRpb24iLCJzdWJzY3JpcHRpb25JZCIsInVybFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsIndpbmRvdyIsInNlYXJjaCIsInNlbGVjdGVkVGllciIsInByb2R1Y3RUeXBlIiwiY3VycmVudFRpZXJMZXZlbCIsImdldFRpZXJMZXZlbCIsInNlbGVjdGVkVGllckxldmVsIiwiaGFuZGxlQ2hlY2tvdXQiLCJpc1NMQVB1cmNoYXNlIiwiaXNVcGdyYWRlIiwiY29uZmlybVVwZ3JhZGUiLCJjb25maXJtIiwiY2FuY2VsUmVzIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyb3JEYXRhIiwiYWxlcnQiLCJzaWduYXR1cmVSZXF1ZXN0SWQiLCJzaWduYXR1cmVMaW5rIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImluY2x1ZGVTdWJzY3JpcHRpb24iLCJwYXJhbXMiLCJzZXQiLCJwdXNoIiwidG9TdHJpbmciLCJlcnIiLCJnZXRTTEFTdGF0dXNDb2xvciIsImdldFNMQVN0YXR1c1RleHQiLCJnZXRVcGdyYWRlSW5mbyIsImZyb21UaWVyIiwidG9UaWVyIiwibWVzc2FnZSIsInRpZXJNYXAiLCJkaXYiLCJjbGFzc05hbWUiLCJoMSIsInAiLCJzdHJvbmciLCJpbnB1dCIsImlkIiwidHlwZSIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwicGxhY2Vob2xkZXIiLCJ1cGdyYWRlSW5mbyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/checkout/page.tsx\n"));

/***/ })

});